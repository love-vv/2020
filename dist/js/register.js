$(function(){$("#register").click(function(){var usn=$("#username").val();var pwd=$("#password").val();var con=$("#conPwd").val();if(!usn){alert("用户名不能为空！");return}if(pwd!==con){alert("两次输入的密码不相同，请重试!");return}var users=$.cookie("registerUsers")?$.cookie("registerUsers"):"";users=convertStrToObj(users);if(usn in users){alert("用户名已经被注册");return}else{users[usn]=pwd;userStr=convertObjToStr(users);$.cookie("registerUsers",userStr,{expires:7,path:"/"});console.log(decodeURIComponent(document.cookie))alert("注册成功！")}});$("#goLogin").click(function(){location.href="login.html"})})function convertStrToObj(str){if(!str){return{}}var users=str.split(":");var obj={};for(var i=0;i<users.length;i++){var userData=users[i].split(",");obj[userData[0]]=userData[1]}return obj}function convertObjToStr(obj){var str="";for(var usn in obj){var pwd=obj[usn];if(str){str+=":"}str+=usn+','+pwd}return str}